(function(t,m){typeof exports=="object"&&typeof module<"u"?module.exports=m(require("vue")):typeof define=="function"&&define.amd?define(["vue"],m):(t=typeof globalThis<"u"?globalThis:t||self,t.index=m(t.Vue))})(this,function(t){"use strict";const m={class:"list-title"},x=["checked"],E={key:0,class:"show-number"},V=t.defineComponent({__name:"ListTitle",props:{title:null,showCount:{type:Boolean},checkedCount:null,allCount:null,leftOrRight:null,canSelectListLen:null},emits:["selectAll"],setup(e,{emit:n}){const o=e,s=a=>{n("selectAll",o.leftOrRight,a)};return(a,i)=>(t.openBlock(),t.createElementBlock("header",null,[t.createElementVNode("h1",m,[t.createElementVNode("input",{type:"checkbox",onChange:i[0]||(i[0]=l=>s(l.target.checked)),checked:e.canSelectListLen!=0&&e.canSelectListLen==e.checkedCount},null,40,x),t.createTextVNode(" "+t.toDisplayString(e.title),1),e.showCount?(t.openBlock(),t.createElementBlock("span",E,t.toDisplayString(e.checkedCount)+"/"+t.toDisplayString(e.allCount),1)):t.createCommentVNode("",!0)])]))}}),nt="",C=(e,n)=>{const o=e.__vccOpts||e;for(const[s,a]of n)o[s]=a;return o},_=C(V,[["__scopeId","data-v-3e1a70a5"]]),N={class:"box button-group"},I=["disabled"],S=["disabled"],$=t.defineComponent({__name:"ButtonGroup",props:{leftButtonDisabled:{type:Boolean,default:!0},rightButtonDisabled:{type:Boolean,default:!0},buttonTexts:null},emits:["leftButtonClick","rightButtonClick"],setup(e,{emit:n}){const o=()=>{n("leftButtonClick")},s=()=>{n("rightButtonClick")};return(a,i)=>(t.openBlock(),t.createElementBlock("div",N,[t.createElementVNode("button",{disabled:e.leftButtonDisabled,onClick:o},[t.createElementVNode("span",null,"<"+t.toDisplayString(e.buttonTexts[0]),1)],8,I),t.createElementVNode("button",{disabled:e.rightButtonDisabled,onClick:s},[t.createElementVNode("span",null,t.toDisplayString(e.buttonTexts[1])+">",1)],8,S)]))}}),ot="",R=C($,[["__scopeId","data-v-c44f99bf"]]),w={key:0,class:"search"},T=["draggable","onDragstart"],O=["checked","disabled","id","onClick"],A=["for"],F=["draggable","onDragstart"],W=["checked","disabled","id","onClick"],z=["for"],K=t.defineComponent({__name:"ListItem",props:{leftListData:{type:Array,default:()=>[]},rightListData:{type:Array,default:()=>[]},leftOrRight:{type:String,validator(e){return["left","right"].includes(e)}},emptyKeyWords:{type:String,default:""},checkedData:{type:Array,default:()=>[]},filterable:{type:Boolean,default:!1}},emits:["checkboxClick","dragItem","update:leftListData","update:rightListData"],setup(e,{emit:n}){const o=e;let s=t.computed(()=>o.leftOrRight=="left"?o.leftListData:o.rightListData),a=t.reactive([...o.leftListData]),i=t.reactive([...o.rightListData]);t.onUpdated(()=>{a=t.reactive([...o.leftListData]),i=t.reactive([...o.rightListData])});const l=g=>o.checkedData.find(u=>u.id==g),c=g=>{console.log(g);let u=null;o.leftOrRight=="left"?(u=a.filter(p=>{var r;return(r=p.label)==null?void 0:r.includes(g)}),n("update:leftListData",u)):(u=i.filter(p=>{var r;return(r=p.label)==null?void 0:r.includes(g)}),n("update:rightListData",u))},h=(g,u,p)=>{n("checkboxClick",g,u,p)},f=g=>{n("dragItem",g)};return(g,u)=>{const p=t.resolveComponent("svg-icon");return t.openBlock(),t.createElementBlock(t.Fragment,null,[t.withDirectives(t.createElementVNode("span",{class:"empty-content"},t.toDisplayString(e.emptyKeyWords),513),[[t.vShow,t.unref(s).length==0]]),e.filterable?(t.openBlock(),t.createElementBlock("div",w,[t.createVNode(p,{name:"search",color:"#c7c7c7"}),t.createElementVNode("input",{type:"text",placeholder:"filter-key-words",size:"small",onInput:u[0]||(u[0]=r=>c(r.target.value))},null,32)])):t.createCommentVNode("",!0),e.leftOrRight=="left"?(t.openBlock(!0),t.createElementBlock(t.Fragment,{key:1},t.renderList(e.leftListData,r=>(t.openBlock(),t.createElementBlock("div",{key:r.id,class:t.normalizeClass(["list-item",r.disabled?"disabled":""]),draggable:!r.disabled,onDragstart:b=>f(r)},[t.createElementVNode("input",{checked:l(r.id),type:"checkbox",disabled:r.disabled,id:"__checkbox__"+r.id,onClick:b=>h(b.target.checked,e.leftOrRight,r)},null,8,O),t.createElementVNode("label",{for:"__checkbox__"+r.id,class:t.normalizeClass({checkedItem:l(r.id)})},t.toDisplayString(r.label),11,A)],42,T))),128)):(t.openBlock(!0),t.createElementBlock(t.Fragment,{key:2},t.renderList(e.rightListData,r=>(t.openBlock(),t.createElementBlock("div",{key:r.id,class:t.normalizeClass(["list-item",r.disabled?"disabled":""]),draggable:!r.disabled,onDragstart:b=>f(r)},[t.createElementVNode("input",{checked:l(r.id),type:"checkbox",disabled:r.disabled,id:"__checkbox__"+r.id,onClick:b=>h(b.target.checked,e.leftOrRight,r)},null,8,W),t.createElementVNode("label",{for:"__checkbox__"+r.id,class:t.normalizeClass({checkedItem:l(r.id)})},t.toDisplayString(r.label),11,z)],42,F))),128))],64)}}}),at="",y=C(K,[["__scopeId","data-v-ce9400d8"]]),U={key:0,class:"search"},G=t.defineComponent({__name:"Search",props:{filterable:{type:Boolean,default:!1},leftOrRight:null},emits:["inputChange"],setup(e,{emit:n}){const o=e;function s(a){n("inputChange",o.leftOrRight,a),console.log(a)}return(a,i)=>e.filterable?(t.openBlock(),t.createElementBlock("div",U,[t.createElementVNode("input",{type:"text",placeholder:"filter-key-words",size:"small",onInput:i[0]||(i[0]=l=>s(l.target.value))},null,32)])):t.createCommentVNode("",!0)}}),rt="",D=C(G,[["__scopeId","data-v-8589e564"]]);function M(e,n,o,s){const a=t.ref(e);a.value=[...e,...o];function i(c){c.forEach(h=>{a.value.find(f=>h.id===f.id)||a.value.push(h)}),s("change",a.value,"right",c),n.left=[]}function l(c){a.value=a.value.filter(h=>!c.find(f=>f.id==h.id)),s("change",a.value,"left",c),n.right=[]}return t.watch(a,c=>{s("update:modelValue",c)},{deep:!0}),{rightListData:a,addRightListData:i,removeRightListData:l}}function j(e,n,o){const s=t.computed(()=>e.filter(l=>{if(!n.value.find(({id:c})=>l.id===c))return l})),a=t.computed(()=>{let l=0;return s.value.forEach(c=>{c.disabled||l++}),l}),i=t.computed(()=>({left:o.right.length===0,right:o.left.length===0}));return{leftListData:s,transferButtonDisabled:i,leftNoDisabledLen:a}}function q(e){const n=t.reactive({left:[],right:[]});function o(i,l){switch(i){case"left":n.left.push(l),e("left-check-change",n.left,l.id);break;case"right":n.right.push(l),e("right-check-change",n.right,l.id);break}}function s(i,l){switch(i){case"left":n.left=n.left.filter(c=>c.id!==l),e("left-check-change",n.left,l);break;case"right":n.right=n.right.filter(c=>c.id!==l),e("right-check-change",n.right,l);break}}return{checkedData:n,setCheckedData:(i,l,c)=>{i?o(l,c):s(l,c.id)}}}function H(){const e=t.ref({id:0,label:"",disabled:!1});function n(o){e.value=o}return{dragedItem:e,setDragedItem:n}}function J(e,n,o){function s(a,i){switch(a){case"left":i?(o.left.length=0,e.value.forEach(l=>{l.disabled||o.left.push(l)})):e.value.forEach(l=>{l.disabled||(o.left.length=0)});break;case"right":i?(o.right.length=0,n.value.forEach(l=>{l.disabled||o.right.push(l)})):n.value.forEach(l=>{l.disabled||(o.right.length=0)});break}}return{selectAll:s}}function P(e,n){const o=t.ref([...e.value]),s=[...n.value];function a(l,c){l=="left"?o.value=i(c,e.value):n.value=i(c,n.value)}function i(l,c){return s.filter(h=>h.label&&h.label.includes(l))}return{leftFiltedData:o,rightFiltedData:s,filterData:a}}const Q={class:"transfer"},X={class:"itemsWraper"},Y={key:0,class:"slot left-footer"},Z={class:"box button-group"},v={class:"itemsWraper"},tt={key:0,class:"slot right-footer"},et=t.defineComponent({__name:"Transfer",props:{data:{default:()=>[]},titles:{default:()=>["List1","List2"]},emptyKeyWords:{default:"No data"},modelValue:{default:()=>[]},showCount:{type:Boolean,default:!0},filterable:{type:Boolean,default:!1},buttonTexts:{default:()=>["",""]}},emits:["update:modelValue","change","left-check-change","right-check-change"],setup(e,{emit:n}){const o=e,s=t.useSlots();console.log(s);const{checkedData:a,setCheckedData:i}=q(n),{rightListData:l,addRightListData:c,removeRightListData:h}=M([],a,o.modelValue,n),{leftListData:f,transferButtonDisabled:g,leftNoDisabledLen:u}=j(o.data,l,a),{dragedItem:p,setDragedItem:r}=H(),{selectAll:b}=J(f,l,a),{leftFiltedData:dt,rightFiltedData:ft,filterData:B}=P(f,l);return(L,d)=>(t.openBlock(),t.createElementBlock("div",null,[t.createElementVNode("div",Q,[t.createElementVNode("div",{class:"box left-list",onDrop:d[2]||(d[2]=k=>t.unref(h)([t.unref(p)])),onDragover:d[3]||(d[3]=t.withModifiers(()=>{},["prevent"]))},[t.createVNode(_,{title:e.titles[0],showCount:e.showCount,checkedCount:t.unref(a).left.length,"all-count":t.unref(f).length,"left-or-right":"left","can-select-list-len":t.unref(u),onSelectAll:t.unref(b)},null,8,["title","showCount","checkedCount","all-count","can-select-list-len","onSelectAll"]),t.createVNode(D,{filterable:e.filterable,leftOrRight:"left",onInputChange:t.unref(B)},null,8,["filterable","onInputChange"]),t.createElementVNode("div",X,[t.createVNode(y,{"left-list-data":t.unref(f),"onUpdate:leftListData":d[0]||(d[0]=k=>t.isRef(f)?f.value=k:null),"right-list-data":t.unref(l),"onUpdate:rightListData":d[1]||(d[1]=k=>t.isRef(l)?l.value=k:null),"empty-key-words":e.emptyKeyWords,leftOrRight:"left",checkedData:t.unref(a).left,onCheckboxClick:t.unref(i),onDragItem:t.unref(r)},null,8,["left-list-data","right-list-data","empty-key-words","checkedData","onCheckboxClick","onDragItem"])]),t.unref(s)["left-footer"]?(t.openBlock(),t.createElementBlock("div",Y,[t.renderSlot(L.$slots,"left-footer",{},void 0,!0)])):t.createCommentVNode("",!0)],32),t.createElementVNode("div",Z,[t.createVNode(R,{"left-button-disabled":t.unref(g).left,"right-button-disabled":t.unref(g).right,"button-texts":e.buttonTexts,onLeftButtonClick:d[4]||(d[4]=k=>t.unref(h)(t.unref(a).right)),onRightButtonClick:d[5]||(d[5]=k=>t.unref(c)(t.unref(a).left))},null,8,["left-button-disabled","right-button-disabled","button-texts"])]),t.createElementVNode("div",{class:"box right-list",onDrop:d[8]||(d[8]=k=>t.unref(c)([t.unref(p)])),onDragover:d[9]||(d[9]=t.withModifiers(()=>{},["prevent"]))},[t.createVNode(_,{title:e.titles[1],showCount:e.showCount,checkedCount:t.unref(a).right.length,"all-count":t.unref(l).length,"left-or-right":"right","can-select-list-len":t.unref(l).length,onSelectAll:t.unref(b)},null,8,["title","showCount","checkedCount","all-count","can-select-list-len","onSelectAll"]),t.createVNode(D,{filterable:e.filterable,leftOrRight:"right",onInputChange:t.unref(B)},null,8,["filterable","onInputChange"]),t.createElementVNode("div",v,[t.createVNode(y,{"empty-key-words":e.emptyKeyWords,"left-list-data":t.unref(f),"onUpdate:leftListData":d[6]||(d[6]=k=>t.isRef(f)?f.value=k:null),"right-list-data":t.unref(l),"onUpdate:rightListData":d[7]||(d[7]=k=>t.isRef(l)?l.value=k:null),"left-or-right":"right",checkedData:t.unref(a).right,onCheckboxClick:t.unref(i),onDragItem:t.unref(r)},null,8,["empty-key-words","left-list-data","right-list-data","checkedData","onCheckboxClick","onDragItem"])]),t.unref(s)["right-footer"]?(t.openBlock(),t.createElementBlock("div",tt,[t.renderSlot(L.$slots,"right-footer",{},void 0,!0)])):t.createCommentVNode("",!0)],32)])]))}}),it="",st="",lt=C(et,[["__scopeId","data-v-29570684"]]);return{install(e){e.component("Transfer",lt)}}});
