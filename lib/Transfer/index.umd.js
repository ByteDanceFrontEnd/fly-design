(function(t,g){typeof exports=="object"&&typeof module<"u"?module.exports=g(require("vue")):typeof define=="function"&&define.amd?define(["vue"],g):(t=typeof globalThis<"u"?globalThis:t||self,t.index=g(t.Vue))})(this,function(t){"use strict";const g={class:"list-title"},x=["checked"],E={key:0,class:"show-number"},L=t.defineComponent({__name:"ListTitle",props:{title:null,showCount:{type:Boolean},checkedCount:null,allCount:null,leftOrRight:null,canSelectListLen:null},emits:["selectAll"],setup(e,{emit:a}){const o=e,s=n=>{a("selectAll",o.leftOrRight,n)};return(n,c)=>(t.openBlock(),t.createElementBlock("header",null,[t.createElementVNode("h1",g,[t.createElementVNode("input",{type:"checkbox",onChange:c[0]||(c[0]=l=>s(l.target.checked)),checked:e.canSelectListLen!=0&&e.canSelectListLen==e.checkedCount},null,40,x),t.createTextVNode(" "+t.toDisplayString(e.title),1),e.showCount?(t.openBlock(),t.createElementBlock("span",E,t.toDisplayString(e.checkedCount)+"/"+t.toDisplayString(e.allCount),1)):t.createCommentVNode("",!0)])]))}}),at="",k=(e,a)=>{const o=e.__vccOpts||e;for(const[s,n]of a)o[s]=n;return o},b=k(L,[["__scopeId","data-v-3e1a70a5"]]),V={class:"box button-group"},N=["disabled"],I=["disabled"],S=t.defineComponent({__name:"ButtonGroup",props:{leftButtonDisabled:{type:Boolean,default:!0},rightButtonDisabled:{type:Boolean,default:!0},buttonTexts:null},emits:["leftButtonClick","rightButtonClick"],setup(e,{emit:a}){const o=()=>{a("leftButtonClick")},s=()=>{a("rightButtonClick")};return(n,c)=>(t.openBlock(),t.createElementBlock("div",V,[t.createElementVNode("button",{disabled:e.leftButtonDisabled,onClick:o},[t.createElementVNode("span",null,"<"+t.toDisplayString(e.buttonTexts[0]),1)],8,N),t.createElementVNode("button",{disabled:e.rightButtonDisabled,onClick:s},[t.createElementVNode("span",null,t.toDisplayString(e.buttonTexts[1])+">",1)],8,I)]))}}),ot="",$=k(S,[["__scopeId","data-v-c44f99bf"]]),w=["draggable","onDragstart"],R=["checked","disabled","id","onClick"],T=["for"],A=["draggable","onDragstart"],O=["checked","disabled","id","onClick"],F=["for"],W=t.defineComponent({__name:"ListItem",props:{leftListData:{type:Array,default:()=>[]},rightListData:{type:Array,default:()=>[]},leftOrRight:{type:String,validator(e){return["left","right"].includes(e)}},emptyKeyWords:{type:String,default:""},checkedData:{type:Array,default:()=>[]},filterable:{type:Boolean,default:!1},filtedData:{type:Array}},emits:["checkboxClick","dragItem","update:leftListData","update:rightListData"],setup(e,{emit:a}){const o=e;let s=t.computed(()=>o.leftOrRight=="left"?o.leftListData:o.rightListData);t.reactive([...o.leftListData]),t.reactive([...o.rightListData]),t.onUpdated(()=>{t.reactive([...o.leftListData]),t.reactive([...o.rightListData])});const n=i=>o.checkedData.find(f=>f.id==i),c=(i,f,r)=>{a("checkboxClick",i,f,r)},l=i=>{a("dragItem",i)};return(i,f)=>(t.openBlock(),t.createElementBlock(t.Fragment,null,[t.withDirectives(t.createElementVNode("span",{class:"empty-content"},t.toDisplayString(e.emptyKeyWords),513),[[t.vShow,t.unref(s).length==0]]),e.leftOrRight=="left"?(t.openBlock(!0),t.createElementBlock(t.Fragment,{key:0},t.renderList(e.filtedData,r=>(t.openBlock(),t.createElementBlock("div",{key:r.id,class:t.normalizeClass(["list-item",r.disabled?"disabled":""]),draggable:!r.disabled,onDragstart:u=>l(r)},[t.createElementVNode("input",{checked:n(r.id),type:"checkbox",disabled:r.disabled,id:"__checkbox__"+r.id,onClick:u=>c(u.target.checked,e.leftOrRight,r)},null,8,R),t.createElementVNode("label",{for:"__checkbox__"+r.id,class:t.normalizeClass({checkedItem:n(r.id)})},t.toDisplayString(r.label),11,T)],42,w))),128)):(t.openBlock(!0),t.createElementBlock(t.Fragment,{key:1},t.renderList(e.filtedData,r=>(t.openBlock(),t.createElementBlock("div",{key:r.id,class:t.normalizeClass(["list-item",r.disabled?"disabled":""]),draggable:!r.disabled,onDragstart:u=>l(r)},[t.createElementVNode("input",{checked:n(r.id),type:"checkbox",disabled:r.disabled,id:"__checkbox__"+r.id,onClick:u=>c(u.target.checked,e.leftOrRight,r)},null,8,O),t.createElementVNode("label",{for:"__checkbox__"+r.id,class:t.normalizeClass({checkedItem:n(r.id)})},t.toDisplayString(r.label),11,F)],42,A))),128))],64))}}),rt="",p=k(W,[["__scopeId","data-v-bbd9879b"]]),z={key:0,class:"search"},K=t.defineComponent({__name:"Search",props:{filterable:{type:Boolean,default:!1},leftOrRight:null},emits:["inputChange"],setup(e,{emit:a}){const o=e;function s(n){a("inputChange",o.leftOrRight,n),console.log(n)}return(n,c)=>e.filterable?(t.openBlock(),t.createElementBlock("div",z,[t.createElementVNode("input",{type:"text",placeholder:"filter-key-words",size:"small",onInput:c[0]||(c[0]=l=>s(l.target.value))},null,32)])):t.createCommentVNode("",!0)}}),it="",m=k(K,[["__scopeId","data-v-8589e564"]]);function U(e,a,o,s){const n=t.ref(e);n.value=[...e,...o];function c(i){i.forEach(f=>{n.value.find(r=>f.id===r.id)||n.value.push(f)}),s("change",n.value,"right",i),a.left=[]}function l(i){n.value=n.value.filter(f=>!i.find(r=>r.id==f.id)),s("change",n.value,"left",i),a.right=[]}return t.watch(n,i=>{s("update:modelValue",i)},{deep:!0}),{rightListData:n,addRightListData:c,removeRightListData:l}}function G(e,a,o){const s=t.computed(()=>e.filter(l=>{if(!a.value.find(({id:i})=>l.id===i))return l})),n=t.computed(()=>{let l=0;return s.value.forEach(i=>{i.disabled||l++}),l}),c=t.computed(()=>({left:o.right.length===0,right:o.left.length===0}));return{leftListData:s,transferButtonDisabled:c,leftNoDisabledLen:n}}function M(e){const a=t.reactive({left:[],right:[]});function o(c,l){switch(c){case"left":a.left.push(l),e("left-check-change",a.left,l.id);break;case"right":a.right.push(l),e("right-check-change",a.right,l.id);break}}function s(c,l){switch(c){case"left":a.left=a.left.filter(i=>i.id!==l),e("left-check-change",a.left,l);break;case"right":a.right=a.right.filter(i=>i.id!==l),e("right-check-change",a.right,l);break}}return{checkedData:a,setCheckedData:(c,l,i)=>{c?o(l,i):s(l,i.id)}}}function j(){const e=t.ref({id:0,label:"",disabled:!1});function a(o){e.value=o}return{dragedItem:e,setDragedItem:a}}function q(e,a,o){function s(n,c){switch(n){case"left":c?(o.left.length=0,e.value.forEach(l=>{l.disabled||o.left.push(l)})):e.value.forEach(l=>{l.disabled||(o.left.length=0)});break;case"right":c?(o.right.length=0,a.value.forEach(l=>{l.disabled||o.right.push(l)})):a.value.forEach(l=>{l.disabled||(o.right.length=0)});break}}return{selectAll:s}}function H(e,a){const o=t.ref([...e.value]),s=t.ref([...a.value]);function n(l,i){l=="left"?o.value=c(i,e.value):s.value=c(i,a.value)}t.watchEffect(()=>{o.value=e.value,s.value=a.value});function c(l,i){return i.filter(f=>f.label&&f.label.includes(l))}return{leftFiltedData:o,rightFiltedData:s,filterData:n}}const J={class:"transfer"},P={class:"itemsWraper"},Q={key:0,class:"slot left-footer"},X={class:"box button-group"},Y={class:"itemsWraper"},Z={key:0,class:"slot right-footer"},v=t.defineComponent({__name:"Transfer",props:{data:{default:()=>[]},titles:{default:()=>["List1","List2"]},emptyKeyWords:{default:"No data"},modelValue:{default:()=>[]},showCount:{type:Boolean,default:!0},filterable:{type:Boolean,default:!1},buttonTexts:{default:()=>["",""]}},emits:["update:modelValue","change","left-check-change","right-check-change"],setup(e,{emit:a}){const o=e,s=t.useSlots();console.log(s);const{checkedData:n,setCheckedData:c}=M(a),{rightListData:l,addRightListData:i,removeRightListData:f}=U([],n,o.modelValue,a),{leftListData:r,transferButtonDisabled:u,leftNoDisabledLen:et}=G(o.data,l,n),{dragedItem:C,setDragedItem:_}=j(),{selectAll:y}=q(r,l,n),{leftFiltedData:lt,rightFiltedData:nt,filterData:D}=H(r,l);return(B,d)=>(t.openBlock(),t.createElementBlock("div",null,[t.createElementVNode("div",J,[t.createElementVNode("div",{class:"box left-list",onDrop:d[2]||(d[2]=h=>t.unref(f)([t.unref(C)])),onDragover:d[3]||(d[3]=t.withModifiers(()=>{},["prevent"]))},[t.createVNode(b,{title:e.titles[0],showCount:e.showCount,checkedCount:t.unref(n).left.length,"all-count":t.unref(r).length,"left-or-right":"left","can-select-list-len":t.unref(et),onSelectAll:t.unref(y)},null,8,["title","showCount","checkedCount","all-count","can-select-list-len","onSelectAll"]),t.createVNode(m,{filterable:e.filterable,leftOrRight:"left",onInputChange:t.unref(D)},null,8,["filterable","onInputChange"]),t.createElementVNode("div",P,[t.createVNode(p,{"left-list-data":t.unref(r),"onUpdate:leftListData":d[0]||(d[0]=h=>t.isRef(r)?r.value=h:null),"right-list-data":t.unref(l),"onUpdate:rightListData":d[1]||(d[1]=h=>t.isRef(l)?l.value=h:null),"empty-key-words":e.emptyKeyWords,leftOrRight:"left",checkedData:t.unref(n).left,filtedData:t.unref(lt),onCheckboxClick:t.unref(c),onDragItem:t.unref(_)},null,8,["left-list-data","right-list-data","empty-key-words","checkedData","filtedData","onCheckboxClick","onDragItem"])]),t.unref(s)["left-footer"]?(t.openBlock(),t.createElementBlock("div",Q,[t.renderSlot(B.$slots,"left-footer",{},void 0,!0)])):t.createCommentVNode("",!0)],32),t.createElementVNode("div",X,[t.createVNode($,{"left-button-disabled":t.unref(u).left,"right-button-disabled":t.unref(u).right,"button-texts":e.buttonTexts,onLeftButtonClick:d[4]||(d[4]=h=>t.unref(f)(t.unref(n).right)),onRightButtonClick:d[5]||(d[5]=h=>t.unref(i)(t.unref(n).left))},null,8,["left-button-disabled","right-button-disabled","button-texts"])]),t.createElementVNode("div",{class:"box right-list",onDrop:d[8]||(d[8]=h=>t.unref(i)([t.unref(C)])),onDragover:d[9]||(d[9]=t.withModifiers(()=>{},["prevent"]))},[t.createVNode(b,{title:e.titles[1],showCount:e.showCount,checkedCount:t.unref(n).right.length,"all-count":t.unref(l).length,"left-or-right":"right","can-select-list-len":t.unref(l).length,onSelectAll:t.unref(y)},null,8,["title","showCount","checkedCount","all-count","can-select-list-len","onSelectAll"]),t.createVNode(m,{filterable:e.filterable,leftOrRight:"right",onInputChange:t.unref(D)},null,8,["filterable","onInputChange"]),t.createElementVNode("div",Y,[t.createVNode(p,{"empty-key-words":e.emptyKeyWords,"left-list-data":t.unref(r),"onUpdate:leftListData":d[6]||(d[6]=h=>t.isRef(r)?r.value=h:null),"right-list-data":t.unref(l),"onUpdate:rightListData":d[7]||(d[7]=h=>t.isRef(l)?l.value=h:null),"left-or-right":"right",checkedData:t.unref(n).right,filtedData:t.unref(nt),onCheckboxClick:t.unref(c),onDragItem:t.unref(_)},null,8,["empty-key-words","left-list-data","right-list-data","checkedData","filtedData","onCheckboxClick","onDragItem"])]),t.unref(s)["right-footer"]?(t.openBlock(),t.createElementBlock("div",Z,[t.renderSlot(B.$slots,"right-footer",{},void 0,!0)])):t.createCommentVNode("",!0)],32)])]))}}),st="",ct="",tt=k(v,[["__scopeId","data-v-52f8bf10"]]),dt="";return{install(e){e.component("Transfer",tt)}}});
