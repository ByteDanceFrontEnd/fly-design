(function(e,r){typeof exports=="object"&&typeof module<"u"?module.exports=r(require("vue")):typeof define=="function"&&define.amd?define(["vue"],r):(e=typeof globalThis<"u"?globalThis:e||self,e.index=r(e.Vue))})(this,function(e){"use strict";function r(){const t=document.getElementById("password-span");t&&(t.className="password-span-blur")}function f(){const t=document.getElementById("password-span");t&&(t.className="password-span-focus")}function E(t,i){let c=null;return function(){c&&clearTimeout(c),c=setTimeout(()=>{t.apply(this,arguments)},i)}}const m=t=>(e.pushScopeId("data-v-14d60815"),t=t(),e.popScopeId(),t),B={key:0},_=["placeholder"],N={key:1},V=["placeholder","rows","cols"],C={key:2,class:"search"},I=["placeholder"],w={key:3,class:"password"},x=["placeholder"],S={id:"password-span",class:"password-span-blur"},b=["src"],T={key:4,class:"cache-search"},H=["placeholder","onKeyup"],F=[m(()=>e.createElementVNode("img",{src:"https://img1.imgtp.com/2023/02/12/mKWB4ns6.png"},null,-1))],D=m(()=>e.createElementVNode("br",null,null,-1)),K={key:0,class:"cache-search-title"},z=m(()=>e.createElementVNode("div",{class:"cache-search-title-history"},"搜索历史",-1)),L={key:1,class:"cache-search-list"},M=["onClick"],$={key:2,class:"cache-search-list"},j=["onClick"],q=e.defineComponent({__name:"main",props:{placeholder:{default:""},size:{default:"default"},showPassword:{type:Boolean,default:!1},prefixIcon:{default:""},suffixIcon:{default:""},type:{default:""},rows:{default:5},cols:{default:33},fn:null},setup(t){const i=t,c=e.ref(!0),s=e.ref("");let a=e.ref([]),d=e.ref([]),h="https://img1.imgtp.com/2023/02/12/86q3pyMC.png",P="https://img1.imgtp.com/2023/02/12/5lVT5sTv.png";const p=e.ref(h),g=e.ref(null);e.onMounted(()=>{const n=g.value;n&&n.addEventListener("input",E(W,500))});const U=e.computed(()=>[`f-input-${i.size}`]);function W(){d.value=[];const n=s.value,l=n.length;if(l!==0)for(const o of a.value)o.length>=l&&o.substring(0,l)===n&&d.value.push([n,o.substring(l)])}function A(){setTimeout(()=>{const n=document.getElementById("cache-search-input");c.value=!1,n&&setTimeout(()=>{n.className="cache-search-input-blur"},10)},200)}function G(){const n=document.getElementById("cache-search-input");c.value=!0,n&&(n.className="cache-search-input-focus")}function J(){localStorage.removeItem("SearchHistory"),a.value=[]}function k(){let n;const l=localStorage.getItem("SearchHistory")?localStorage.getItem("SearchHistory"):null;n=l?l.split(","):[];const o=s.value;o.length>0&&!n.includes(o)&&n.push(o),n.length>0&&localStorage.setItem("SearchHistory",n.join(",")),a.value=n}function y(n){s.value=n}function Q(){const n=document.getElementById("password-input");p.value===h?(p.value=P,n&&(n.type="password")):(p.value=h,n&&(n.type="text"))}return(n,l)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[t.type?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",B,[e.createElementVNode("input",{placeholder:t.placeholder,class:e.normalizeClass(e.unref(U))},null,10,_)])),t.type==="textarea"?(e.openBlock(),e.createElementBlock("div",N,[e.createElementVNode("textarea",{placeholder:t.placeholder,rows:t.rows,cols:t.cols},null,8,V)])):e.createCommentVNode("",!0),t.type=="search"?(e.openBlock(),e.createElementBlock("div",C,[e.createElementVNode("input",{placeholder:t.placeholder,class:"search-input"},null,8,I),e.createElementVNode("button",{onClick:l[0]||(l[0]=(...o)=>t.fn&&t.fn(...o))},"Search")])):e.createCommentVNode("",!0),t.type==="password"?(e.openBlock(),e.createElementBlock("div",w,[e.createElementVNode("input",{class:"password-input",placeholder:t.placeholder,onBlur:l[1]||(l[1]=(...o)=>e.unref(r)&&e.unref(r)(...o)),onFocus:l[2]||(l[2]=(...o)=>e.unref(f)&&e.unref(f)(...o)),id:"password-input"},null,40,x),e.createElementVNode("span",S,[e.createElementVNode("img",{onClick:Q,src:p.value},null,8,b)])])):e.createCommentVNode("",!0),t.type==="cache-search"?(e.openBlock(),e.createElementBlock("div",T,[e.withDirectives(e.createElementVNode("input",{placeholder:t.placeholder,onBlur:A,onFocus:G,onKeyup:e.withKeys(k,["enter"]),class:"cache-search-input-blur",id:"cache-search-input","onUpdate:modelValue":l[3]||(l[3]=o=>s.value=o),ref_key:"searchInput",ref:g},null,40,H),[[e.vModelText,s.value]]),e.createElementVNode("button",{onClick:k},F),D,c.value&&e.unref(a).length>0?(e.openBlock(),e.createElementBlock("div",K,[z,e.createElementVNode("button",{class:"cache-search-title-clear",onClick:J}," 清空 ")])):e.createCommentVNode("",!0),c.value&&e.unref(a).length>0&&!s.value?(e.openBlock(),e.createElementBlock("div",L,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(a),(o,u)=>(e.openBlock(),e.createElementBlock("div",{key:u,onClick:R=>y(o)},e.toDisplayString(o),9,M))),128))])):e.createCommentVNode("",!0),c.value&&e.unref(d).length>0&&s.value?(e.openBlock(),e.createElementBlock("div",$,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(d),(o,u)=>(e.openBlock(),e.createElementBlock("div",{key:u,onClick:R=>y(o[0]+o[1])},[e.createElementVNode("p",null,e.toDisplayString(o[0]),1),e.createTextVNode(e.toDisplayString(o[1]),1)],8,j))),128))])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)],64))}}),Y="",O=((t,i)=>{const c=t.__vccOpts||t;for(const[s,a]of i)c[s]=a;return c})(q,[["__scopeId","data-v-14d60815"]]);return{install(t){t.component("Input",O)}}});
